<nav class="bg-white shadow fixed w-full top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
    
    <!-- Brand -->
    <a href="{% url 'home' %}" class="font-bold text-2xl text-purple-600 hover:text-purple-700">
      ShopEasy
    </a>

    <!-- Navbar links -->
    <div class="hidden md:flex items-center space-x-6 text-gray-800">

      <!-- âœ… HOME LINK visible to everyone -->
      <a href="{% url 'home' %}" class="hover:text-purple-600">Home</a>

      {% if user.is_authenticated %}
        {% if user.is_superuser or user.role == 'admin' %}
          <!-- âœ… ADMIN NAVBAR -->
          <a href="{% url 'admin_dashboard' %}" class="hover:text-purple-600">Dashboard</a>
          <a href="{% url 'admin_products' %}" class="hover:text-purple-600">Manage Products</a>
          <a href="{% url 'orders:admin_orders' %}" class="hover:text-purple-600">Orders</a>
          <a href="{% url 'logout' %}" class="text-red-500 hover:text-red-600">Logout</a>

        {% else %}
          <!-- âœ… USER NAVBAR -->
          <a href="{% url 'product_list' %}" class="hover:text-purple-600">Products</a>
          <a href="{% url 'orders:cart' %}" class="hover:text-indigo-500">Cart</a>
          <a href="{% url 'orders:checkout' %}" class="hover:text-purple-600">Checkout</a>

          <button id="cart-btn" class="relative">
            ðŸ›’
            <span id="cart-count"
              class="absolute -top-2 -right-2 bg-red-500 text-white text-xs px-1 rounded-full">0</span>
          </button>

          <a href="{% url 'logout' %}" class="text-red-500 hover:text-red-600">Logout</a>
        {% endif %}
      {% else %}
        <!-- âœ… GUEST NAVBAR -->
        <a href="{% url 'product_list' %}" class="hover:text-purple-600">Products</a>
        <a href="{% url 'login' %}" class="hover:text-purple-600">Login</a>
        <a href="{% url 'register' %}" class="hover:text-purple-600">Register</a>
      {% endif %}
    </div>

    <!-- Mobile Menu Button -->
    <div class="md:hidden">
      <button id="menu-btn" class="text-2xl">â˜°</button>
    </div>
  </div>
</nav>

<!-- Keeps page content visible below fixed nav -->
<div class="h-16"></div>
